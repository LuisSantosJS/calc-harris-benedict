<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Energia e Macronutrientes</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script>
      const attJSON = [
        {
          head: "Bicycling",
          att: "Pedalada recreativa, 8,85 km/h",
          mets: 3.5,
          code: 1018,
        },
        {
          head: "Bicycling",
          att: "Pedalada, <16,09 km/h, Lazer, Para o trabalho ou prazer",
          mets: 4,
          code: 1010,
        },
        {
          head: "Bicycling",
          att: "Monociclo",
          mets: 5,
          code: 1070,
        },
        {
          head: "Bicycling",
          att: "Pedalada, Em estrada de terra ou estrada rural, Ritmo moderado",
          mets: 5.8,
          code: 1013,
        },
        {
          head: "Bicycling",
          att: "Pedalada recreativa, 15,13 km/h",
          mets: 5.8,
          code: 1019,
        },
        {
          head: "Bicycling",
          att: "Pedalada, De/Para o trabalho, Ritmo selecionado pelo praticante",
          mets: 6.8,
          code: 1011,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 16,09-19,16 km/h, Lazer, Devagar, Esforço leve",
          mets: 6.8,
          code: 1020,
        },
        {
          head: "Bicycling",
          att: "Pedalada em geral",
          mets: 7.5,
          code: 1015,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 19,31-22,37 km/h, Lazer, Esforço moderado",
          mets: 8,
          code: 1030,
        },
        {
          head: "Bicycling",
          att: "Pedalada BMX",
          mets: 8.5,
          code: 1008,
        },
        {
          head: "Bicycling",
          att: "Pedalada em montanha, Geral",
          mets: 8.5,
          code: 1009,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 19,31 km/h, Sentado, Mãos nos capôs dos freios ou drops do guidão, 80 RPM",
          mets: 8.5,
          code: 1065,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 19,31 km/h, Em pé, Mãos nos capôs dos freios, 60 RPM",
          mets: 9,
          code: 1066,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 22,53-24,14 km/h, Corrida ou Lazer, Rápido, Esforço vigoroso",
          mets: 10,
          code: 1040,
        },
        {
          head: "Bicycling",
          att: "Pedalada, 25,75-30,58 km/h, Corrida/Sem vácuo ou > 30,58 km/h com vácuo, Muito rápido, Corrida geral",
          mets: 12,
          code: 1050,
        },
        {
          head: "Bicycling",
          att: "Pedalada em montanha, Subida vigorosa",
          mets: 14,
          code: 1003,
        },
        {
          head: "Bicycling",
          att: "Pedalada, > 32,19 km/h, Corrida, Sem vácuo",
          mets: 15.8,
          code: 1060,
        },
        {
          head: "Bicycling",
          att: "Pedalada em montanha, Competitiva, Corrida",
          mets: 16,
          code: 1004,
        },
        {
          head: "Conditioning Exercise",
          att: "Whirlpool (Banhos de hidromassagem), Sentado",
          mets: 1.3,
          code: 2135,
        },
        {
          head: "Conditioning Exercise",
          att: "Ioga, Nadhi Sodhana (Respiração Alternada)",
          mets: 2.5,
          code: 4283,
        },
        {
          head: "Conditioning Exercise",
          att: "Exercícios de Alongamento, Alongamento Ativo",
          mets: 2.8,
          code: 17130,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Máquina de Cabos ou Bandas de Resistência, 60-80% 1RM",
          mets: 3,
          code: 25300,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Elásticos, 40% 1RM",
          mets: 3,
          code: 25320,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Flexões, Push-ups, ritmo vigoroso",
          mets: 3.8,
          code: 2500,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Máquina, 60-80% 1RM",
          mets: 3.8,
          code: 25200,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Máquina, 30% 1RM",
          mets: 3.8,
          code: 25210,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Elásticos, 60% 1RM",
          mets: 3.8,
          code: 25322,
        },
        {
          head: "Conditioning Exercise",
          att: "Pilates",
          mets: 3.8,
          code: 3485,
        },
        {
          head: "Conditioning Exercise",
          att: "Dança, Dança de Salão, rápido",
          mets: 4,
          code: 11505,
        },
        {
          head: "Conditioning Exercise",
          att: "Step, Step Aeróbico",
          mets: 5,
          code: 3345,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Levantamento de Peso, Powerlifting ou Levantamento Olímpico",
          mets: 6,
          code: 3083,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Exercícios Combinados, Elásticos, 100% 1RM",
          mets: 6,
          code: 25325,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Levantamento de Peso, Máquina ou Livre, 60-80% 1RM",
          mets: 6,
          code: 3070,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Levantamento de Peso, Pesos Livres, Máquinas ou Flexões de Perna",
          mets: 6,
          code: 3080,
        },
        {
          head: "Conditioning Exercise",
          att: "Pilates, Cardiovascular, Máquina Reformer",
          mets: 6,
          code: 11665,
        },
        {
          head: "Conditioning Exercise",
          att: "Dança, Aeróbica, Dança Freestyle",
          mets: 6.5,
          code: 11615,
        },
        {
          head: "Conditioning Exercise",
          att: "Aeróbica, Dança",
          mets: 7,
          code: 11600,
        },
        {
          head: "Conditioning Exercise",
          att: "Treinamento de Força, Levantamento de Peso, Levantamento Terra",
          mets: 7,
          code: 3085,
        },
        {
          head: "Conditioning Exercise",
          att: "Exercícios de Calistenia (Treinamento do Peso Corporal), treino de circuito",
          mets: 7,
          code: 17150,
        },
        {
          head: "Conditioning Exercise",
          att: "Exercícios de Calistenia (Treinamento do Peso Corporal), intenso",
          mets: 8,
          code: 17155,
        },
      ].map((e) => ({ ...e, metsMin: e.mets / 60 }));
    </script>
    <style>
      *::-webkit-scrollbar {
        display: none !important;
      }
      body {
        margin: 0;
        padding: 0;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        background-color: #e5e5e5;
        display: flex;
        width: 100vw;
        height: 100vh;
        align-items: center;
        justify-content: center;
      }
      .row-item {
        display: flex;
        width: 100%;
        flex-direction: row;
        margin-top: -20px;
        margin-bottom: -20px;

        flex-wrap: nowrap;
      }
      table,
      td,
      th {
        border: 1px solid;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }
      .box {
        display: flex;
        flex-direction: column;
        box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        width: 600px;
        padding: 20px;
        border-radius: 20px;
        height: 400px;
        background-color: white;
      }
      #title-of-box {
        color: #323232;
        font-weight: 800;
      }
      .contain-box {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        justify-content: t flex-star;
        flex-wrap: wrap;
        width: 100%;
        height: calc(100% - 80px);
      }
      .default-step {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        height: min-content;
        width: 100%;
      }
      #row-buttons {
        display: flex;
        width: 100%;
        height: 80px;
        gap: 30px;
        justify-content: flex-end;
        align-items: center;
      }
      #contain-create-atts-s {
        display: flex;
        width: 100%;
        justify-content: space-between;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 20px;
      }
      .button {
        display: flex;
        border: solid;
        padding: 10px;
        padding-left: 30px;
        font-weight: 600;
        cursor: pointer;
        padding-right: 30px;
        border-width: 1px;
        border-color: #323232;
        border-radius: 4px;
        background-color: transparent;
      }
      .button:hover {
        background-color: rgba(0, 0, 0, 0.9);
        color: white;
        font-weight: 700;
      }
      .input {
        display: flex;
        width: 170px;
        height: 30px;
        margin-top: 4px;
        border: solid;
        border-color: #323232;
        border-radius: 4px;
        border-width: 1px;
        background-color: transparent;
      }
      .input-tabel {
        border-radius: 0px !important;
        align-items: center;
        justify-content: center;
        border-top-width: 0px;
        text-align: center;
      }

      .select {
        display: flex;
        width: 176px;
        height: 36px;
        margin-top: 4px;
        border: solid;
        border-color: #323232;
        border-radius: 4px;
        border-width: 1px;
        background-color: transparent;
      }
      #contain_select_Att {
        display: none;
      }
      .label {
        display: flex;
        font-weight: 600;
      }
      .contain-input {
        display: flex;
        flex-direction: column;
        height: 60px;
      }
      .scroll {
        overflow-x: hidden !important;
        overflow-y: auto;
      }

      @media screen and (max-width: 600px) {
        .box {
          height: 800px; /* Dobre o valor do height quando a largura da tela for menor ou igual a 600px */
        }
      }
    </style>
    <script>
      var stepIndex = 0;
      var formValues = {
        old: 18,
        sex: "male",
        weight: 100,
        tmb: 0,
        altura: 180,
        mlg: 0,
        ep: "h_b",
        naa: "1.0",
        select_atts: 1018,
        time: 60,
        mets: 3.5,
        kcal: 3.5 * 100 * 1,
        kcal_e: 0,
        n_meel: 0,
        defihip: 0,
        kcal_d: 0,
        protein_g: 0,
        fat_g: 0,
        get: 0,
        offerTotal: 0,
        total_g_protein: 0,
        total_g_table: 0,
      };
      let atts = [];
      var totalKcal = 0;
    </script>
    <script>
      function loadOfferTotal() {
        totalKcal = 0;
        for (const iterator of atts) {
          totalKcal = parseInt(totalKcal) + parseInt(iterator.kcal);
        }

        var valueGet = (
          parseFloat(formValues.tmb) * parseFloat(formValues.naa) +
          parseFloat(totalKcal)
        ).toFixed(2);
        formValues.get = valueGet;
        var newGET = `GET: <b>${valueGet} kcal</b>`;

        var getElem = document.getElementById("get-pp");

        formValues.kcal_d = (
          (parseFloat(formValues.kcal_e) * parseFloat(formValues.n_meel)) /
          7
        ).toFixed(2);
        if (getElem) {
          getElem.innerHTML = newGET;
        }

        var offerTotal = document.getElementById("offerTotal");
        var ofg =
          valueGet -
          parseFloat(formValues.kcal_d) +
          parseFloat(formValues.defihip);
        formValues.offerTotal = ofg;
        formValues.total_g_table = ofg / 4;
        offerTotal.innerHTML = `Oferta total: <b>${ofg} kcal <b/>`;
      }
      function handleChange(event) {
        var elemento = event.target;
        var novoValor = elemento.value;
        console.log(elemento.id, novoValor);

        if (String(novoValor).length > 0) {
          if (elemento.id == "naa") {
            formValues[elemento.id] = novoValor;
          } else {
            formValues[elemento.id] = isNaN(novoValor)
              ? novoValor
              : parseFloat(novoValor);
          }
        }

        if (elemento.id == "select_atts" || elemento.id == "time") {
          const finded = attJSON.find(
            (e) =>
              e.code ==
              (elemento.id == "select_atts"
                ? novoValor
                : formValues.select_atts)
          );
          formValues.mets = (finded.metsMin * formValues.time).toFixed(2);
        }
        formValues.kcal = metToKcal().toFixed(0);
        loadOfferTotal();
        loadTMB();
        setValuesForm(false);
        
      }
    </script>
    <script>
      function loadTMB() {
        if (formValues.ep == "h_b") {
          formValues.tmb = calcularTMB_HarrisBenedict();
        }
        if (formValues.ep == "t_mlg") {
          formValues.tmb = calcularTMB_Tinsley_MLG();
        }
        if (formValues.ep == "t_peso") {
          formValues.tmb = calcularTMB_Tinsley_Peso();
        }
        if (formValues.ep == "t_mlg") {
          formValues.tmb = calcularTMB_Tinsley_MLG();
        }
        if (formValues.ep == "cunn_mlg") {
          formValues.tmb = calcularTMB_Cunningham_MLG();
        }

        if (formValues.ep == "msj") {
          formValues.tmb = calcularTMBMifflinStJeor();
        }
        if (formValues.ep == "fao") {
          formValues.tmb = calcularTMBFAO();
        }
      }
      function removeAddContai() {
        const parent = document.getElementById("contain-create-atts-s");
        parent.innerHTML = ""; // Isso remove todo o conteúdo HTML interno do elemento pai
      }

      function delitem(a) {
        const index = parseInt(a.target.id);
        console.log(index);
        console.log(atts.filter((_, i) => i !== index));
        atts = atts.filter((_, i) => i !== index);
        removeAddContai();
        renerRowItens();
      }
      function renerRowItens() {
        var btnAddAtt = document.getElementById("add-att-to-list");
        var nivAtt = document.getElementById("niv-att");
        nivAtt.style.display = "flex";
        btnAddAtt.style.display = "flex";

        const contain = document.getElementById("contain-create-atts-s");

        for (let i = 0; i < atts.length; i++) {
          var iterator = atts[i];
          var rowItem = document.createElement("div");
          rowItem.className = "row-item";

          var delP = document.createElement("p");
          delP.style =
            "width: 30px; border-right-width: 0px; cursor: pointer;" +
            (i == 0 ? "border-top-width: 1px;" : "border-top-width: 0px;");
          delP.className = "input input-tabel fa";
          delP.innerHTML = "&#xf014;";
          delP.onclick = delitem;
          delP.id = i;
          rowItem.appendChild(delP);

          var attP = document.createElement("p");
          attP.style =
            "width: calc(100% - 160px);" +
            (i == 0 ? "border-top-width: 1px;" : "border-top-width: 0px;");
          attP.className = "input input-tabel";
          attP.textContent = iterator.att;
          rowItem.appendChild(attP);

          var timeP = document.createElement("p");
          timeP.style =
            "width: 65px;border-left-width: 0px; border-right-width: 0px;" +
            (i == 0 ? "border-top-width: 1px;" : "border-top-width: 0px;");
          timeP.className = "input input-tabel";
          timeP.textContent = iterator.time + " min";
          rowItem.appendChild(timeP);

          var metsP = document.createElement("p");
          metsP.style =
            "width: 65px;" +
            (i == 0 ? "border-top-width: 1px;" : "border-top-width: 0px;");
          metsP.className = "input input-tabel";
          metsP.textContent = iterator.mets + " mets";
          rowItem.appendChild(metsP);

          contain.appendChild(rowItem);
        }

        var diCon = document.createElement("div");
        diCon.className = "contain-input";

        totalKcal = 0;
        for (const iterator of atts) {
          totalKcal = parseInt(totalKcal) + parseInt(iterator.kcal);
        }
        var pdivCn = document.createElement("p");
        pdivCn.innerHTML = `Valor de METs adicionais por dia: <b>${totalKcal} kcal</b>`;
        diCon.appendChild(pdivCn);

        if (totalKcal > 0) {
          contain.appendChild(diCon);
        }

        var diCon2 = document.createElement("div");
        diCon2.className = "contain-input";

        var pdivCn2 = document.createElement("p");
        pdivCn2.id = "get-pp";
        pdivCn2.innerHTML = `GET: <b>${(
          parseFloat(formValues.tmb) * parseFloat(formValues.naa) +
          parseFloat(totalKcal)
        ).toFixed(2)} kcal</b>`;

        diCon2.appendChild(pdivCn2);
        contain.appendChild(pdivCn2);
      }
      function addTOListAtt() {
        atts.push({
          att: attJSON.find((e) => e.code == formValues.select_atts).att,
          mets: formValues.mets,
          time: formValues.time,
          kcal: formValues.kcal,
        });

        removeAddContai();
        renerRowItens();
      }
      function addNewAtt() {
        var btnAddAtt = document.getElementById("add-att-to-list");
        var nivAtt = document.getElementById("niv-att");
        nivAtt.style.display = "none";
        btnAddAtt.style.display = "none";
        removeAddContai();

        var containCATT = document.getElementById("contain-create-atts-s");

        var labelC = document.createElement("label");
        labelC.htmlFor = "select_atts";
        labelC.textContent = "Selecione a atividade";
        var selectC = document.createElement("select");
        selectC.className = "select";
        selectC.id = "select_atts";
        selectC.style.width = "100%";
        for (const iterator of attJSON) {
          var optionc = document.createElement("option");
          optionc.value = iterator.code;
          optionc.textContent = iterator.att;
          selectC.appendChild(optionc);
        }

        const containInp = document.createElement("div");
        containInp.className = "contain-input";
        containInp.style.width = "100%";
        containInp.id = "contain_select_Att";
        containInp.style.display = "flex";

        containInp.appendChild(labelC);
        containInp.appendChild(selectC);

        containCATT.appendChild(containInp);

        const containInpInp = document.createElement("div");
        containInpInp.className = "contain-input";

        const containInpInpLabel = document.createElement("label");
        containInpInpLabel.textContent = "Tempo (min)";
        containInpInpLabel.htmlFor = "time";

        const containInpInpInput = document.createElement("input");
        containInpInpInput.className = "input";
        containInpInpInput.id = "time";

        containInpInp.appendChild(containInpInpLabel);
        containInpInp.appendChild(containInpInpInput);

        const containInpInp2 = document.createElement("div");
        containInpInp2.className = "contain-input";

        const containInpInp2Label = document.createElement("label");
        containInpInp2Label.textContent = "Mets";
        containInpInp2Label.htmlFor = "mets";

        const containInpInp2Input = document.createElement("input");
        containInpInp2Input.className = "input";
        containInpInp2Input.id = "mets";
        containInpInp2Input.disabled = "false";
        containInpInp2Input.contentEditable = "false";

        containInpInp2.appendChild(containInpInp2Label);
        containInpInp2.appendChild(containInpInp2Input);

        const containInpInp3 = document.createElement("div");
        containInpInp3.className = "contain-input";

        const containInpInp3Label = document.createElement("label");
        containInpInp3Label.textContent = "Kcal";
        containInpInp3Label.htmlFor = "kcal";

        const containInpInp3Input = document.createElement("input");
        containInpInp3Input.className = "input";
        containInpInp3Input.id = "kcal";
        containInpInp3Input.disabled = "false";
        containInpInp3Input.contentEditable = "false";
        containInpInp2Input.value = metToKcal();

        containInpInp3.appendChild(containInpInp3Label);
        containInpInp3.appendChild(containInpInp3Input);

        const containInpInp4 = document.createElement("button");
        containInpInp4.className = "button select";
        containInpInp4.textContent = "Salvar";
        containInpInp4.style.alignItems = "center";
        containInpInp4.style.justifyContent = "center";
        containInpInp4.onclick = addTOListAtt;

        containCATT.appendChild(containInpInp);
        containCATT.appendChild(containInpInp2);
        containCATT.appendChild(containInpInp3);
        containCATT.appendChild(containInpInp4);

        containInpInpInput.addEventListener("change", handleChange);
        selectC.addEventListener("change", handleChange);

        setValuesForm(false);
      }
    </script>

    <script>
      function calcularPorcentagem(quantidade, total) {
        if (quantidade == 0 && total == 0) return 0;
        var porcentagem = (quantidade / total) * 100;
        return porcentagem;
      }
      function calcularTMB_HarrisBenedict() {
        var tmb;

        if (formValues.sex === "male") {
          tmb = 66.5 + (13.75 * parseFloat(formValues.weight)) + (5.003 * parseFloat(formValues.altura)) - (6.75 * parseFloat(formValues.old));
        } else if (formValues.sex === "female") {
          tmb = 655.1 + (9.563 * parseFloat(formValues.weight)) + (1.85 * parseFloat(formValues.altura)) - (4.676 *  parseFloat(formValues.old));
        } else {
          return null;
        }
        return tmb;
      }

      function calcularTMBFAO() {
        if (formValues.sex == "male") {
          return (
            88.362 +
            13.397 * formValues.weight +
            4.799 * formValues.altura -
            5.677 * formValues.old
          );
        } else if (formValues.sex == "female") {
          return (
            447.593 +
            9.247 * formValues.weight +
            3.098 * formValues.altura -
            4.33 * formValues.old
          );
        } else {
          return null;
        }
      }

      function calcularTMBMifflinStJeor() {
        var tmb;

        if (formValues.sex == "male") {
          tmb =
            10 * formValues.weight +
            6.25 * formValues.altura -
            5 * formValues.old +
            5;
        } else if (formValues.sex == "female") {
          tmb =
            10 * formValues.weight +
            6.25 * formValues.altura -
            5 * formValues.old -
            161;
        } else {
          return null;
        }
        return tmb;
      }

      function calcularTMB_Cunningham_MLG() {
        var fator = 21.6;

        var tmb = fator * formValues.mlg + 370;

        return tmb;
      }

      function calcularTMB_Tinsley_Peso() {
        return formValues.weight * 24;
      }

      function calcularTMB_Tinsley_MLG() {
        return formValues.mlg * 21.6;
      }

      function metToKcal() {
        const timeHours = formValues.time / 60;
        return formValues.mets * formValues.weight * timeHours;
      }
    </script>
    <script>
      function loadStep() {
        var h1D = document.getElementById("title-of-box");
        var step0 = document.getElementById("step-0");
        var step1 = document.getElementById("step-1");
        var step2 = document.getElementById("step-2");
        var step3 = document.getElementById("step-3");

        if (stepIndex == 0) {
          h1D.textContent = "1. Taxa Metabólica Basal (TMB)";
          step0.style.display = "flex";
          step1.style.display = "none";
          step2.style.display = "none";
          step3.style.display = "none";
        }
        if (stepIndex == 1) {
          h1D.textContent = "2. Gasto Energético Total (GET)";
          step1.style.display = "flex";
          step0.style.display = "none";
          step2.style.display = "none";
          step3.style.display = "none";
        }
        if (stepIndex == 2) {
          h1D.textContent = "3. Oferta Energética Total";
          step2.style.display = "flex";
          step0.style.display = "none";
          step1.style.display = "none";
          step3.style.display = "none";
        }
        if (stepIndex == 3) {
          h1D.textContent = "4. Oferta de Macronutrientes";
          step3.style.display = "flex";
          step0.style.display = "none";
          step1.style.display = "none";
          step2.style.display = "none";
        }
        if (stepIndex == 4) {
          h1D.textContent = "Calculadora de Energia e Macronutrientes";
          step0.style.display = "flex";
          step1.style.display = "flex";
          step2.style.display = "flex";
          step3.style.display = "flex";

          var rowButtons = document.getElementById("row-buttons");
          rowButtons.remove();

          var obsMlg = document.getElementById("obs-mlg");
          obsMlg.remove();

          var box = document.getElementById("box");
          box.className = box.className + " " + "scroll";
        }
      }

      function nextStep() {
        if (stepIndex < 4) {
          stepIndex = stepIndex + 1;
        }
        loadStep();
      }
      function backStep() {
        if (stepIndex > 0) {
          stepIndex = stepIndex - 1;
        }
        loadStep();
      }

      function setValuesForm(isInit) {
        var oldD = document.getElementById("old");
        oldD.value = formValues.old;

        var sexD = document.getElementById("sex");
        sexD.value = formValues.sex;

        var weightD = document.getElementById("weight");
        weightD.value = formValues.weight;

        var alturaD = document.getElementById("altura");
        alturaD.value = formValues.altura;

        var mlgD = document.getElementById("mlg");
        mlgD.value = formValues.mlg;

        var epD = document.getElementById("ep");
        epD.value = formValues.ep;

        var naaD = document.getElementById("naa");
        naaD.value = formValues.naa;

        var tmbvalue = document.getElementById("tmbvalue");
        tmbvalue.innerHTML = `Taxa Metabólica Basal: <b>${formValues.tmb.toFixed(
          2
        )} kcal</b>`;

        var kcal_eD = document.getElementById("kcal_e");
        kcal_eD.value = formValues.kcal_e;

        var n_meelD = document.getElementById("n_meel");
        n_meelD.value = formValues.n_meel;

        var kcal_dD = document.getElementById("kcal_d");
        kcal_dD.value = formValues.kcal_d;

        var defihipD = document.getElementById("defihip");
        defihipD.value = formValues.defihip;

        var protein_gD = document.getElementById("protein_g");
        protein_gD.value = formValues.protein_g;

        //calc % table
        var g_protein = document.getElementById("g_protein");
        g_protein.innerHTML = formValues.protein_g;

        var total_g_protein = document.getElementById("total_g_protein");
        var tgy = (
          parseFloat(formValues.protein_g) * parseFloat(formValues.weight)
        ).toFixed(0);
        total_g_protein.innerHTML = tgy;
        formValues.total_g_protein = tgy;

        var prcent_protein = document.getElementById("prcent_protein");
        prcent_protein.innerHTML =
          calcularPorcentagem(
            parseFloat(tgy),
            parseFloat(formValues.total_g_table)
          ).toFixed(2) + " %";

        //end calc % table



        var fat_gD = document.getElementById("fat_g");
        fat_gD.value = formValues.fat_g;

        //calc % table
        var g_fat = document.getElementById("g_fat");
        g_fat.innerHTML = formValues.fat_g;

        var total_g_fat = document.getElementById("total_g_fat");
        var tgy2 = (
          parseFloat(formValues.fat_g) * parseFloat(formValues.weight)
        ).toFixed(0);
        total_g_fat.innerHTML = tgy2;
        formValues.total_g_fat = tgy2;

        var prcent_fat = document.getElementById("prcent_fat");
        prcent_fat.textContent = (calcularPorcentagem(
            parseFloat(tgy2),
            parseFloat(formValues.total_g_table)
          ).toFixed(2) ?? 0) + " %";

        //end calc % table

        //calc % table - CARb
        var totalWithouCarbAndFat = parseFloat(
          parseFloat(formValues.total_g_table) - tgy - tgy2
        );
        var g_carb = document.getElementById("g_carb");
        g_carb.innerHTML = (totalWithouCarbAndFat / parseFloat(formValues.weight)).toFixed(0);

        var total_g_carb = document.getElementById("total_g_carb");
        total_g_carb.innerHTML = totalWithouCarbAndFat.toFixed(0);

        var porcent_carb = document.getElementById("porcent_carb");
        porcent_carb.innerHTML = (calcularPorcentagem(
            parseFloat(totalWithouCarbAndFat),
            parseFloat(formValues.total_g_table)
          ).toFixed(2) ?? 0) + " %";
        //end calc % table

        //not init

        var select_attsD = document.getElementById("select_atts");
        if (select_attsD) {
          select_attsD.value = formValues.select_atts;
        }

        var timeD = document.getElementById("time");
        if (timeD) {
          timeD.value = formValues.time;
        }

        var metsD = document.getElementById("mets");
        if (metsD) {
          metsD.value = formValues.mets;
        }

        var kcalD = document.getElementById("kcal");
        if (kcalD) {
          kcalD.value = formValues.kcal;
        }

        if (isInit) {
          oldD.addEventListener("change", handleChange);
          sexD.addEventListener("change", handleChange);
          weightD.addEventListener("change", handleChange);
          alturaD.addEventListener("change", handleChange);
          mlgD.addEventListener("change", handleChange);
          epD.addEventListener("change", handleChange);
          naaD.addEventListener("change", handleChange);

          kcal_eD.addEventListener("change", handleChange);
          n_meelD.addEventListener("change", handleChange);

          defihipD.addEventListener("change", handleChange);
          protein_gD.addEventListener("change", handleChange);
          fat_gD.addEventListener("change", handleChange);
        }
      }
      function load() {
        loadTMB();
        setValuesForm(true);
        loadStep();
        loadOfferTotal();

        formValues.kcal = metToKcal().toFixed(0);
        setValuesForm(false);
      }
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => load());
    </script>
  </head>
  <body>
    <div id="box" class="box">
      <h3 id="title-of-box"></h3>
      <div class="contain-box scroll">
        <div class="default-step" id="step-0">
          <div class="contain-input">
            <label class="label" for="old">Idade</label>
            <input type="number" id="old" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="binare">Sexo</label>
            <select id="sex" class="select">
              <option class="select" value="male">Masculino</option>
              <option class="select" value="female">Feminino</option>
            </select>
          </div>
          <div class="contain-input">
            <label class="label" for="weight">Peso(kg)</label>
            <input type="number" id="weight" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="altura">Altura(cm)</label>
            <input type="number" id="altura" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="mlg">MLG(kg)</label>
            <input type="number" id="mlg" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="ep">Equação preditiva</label>
            <select id="ep" class="select">
              <option class="select" value="h_b">Harris e Benedict</option>
              <option class="select" value="t_mlg">Tinsley (MLG)</option>
              <option class="select" value="t_peso">Tinsley (Peso)</option>
              <option class="select" value="cunn_mlg">Cunningham (MLG)</option>
              <option class="select" value="msj">Mifflin-St Jeor</option>
              <option class="select" value="fao">FAO/OMS</option>
            </select>
          </div>

          <div id="obs-mlg" class="contain-input">
            <p>
              *Massa Livre de Gordura (MLG) é utilizada apenas nas equações de
              Cunningham e Tinsley.
            </p>
          </div>
          <div class="contain-input">
            <p id="tmbvalue"></p>
          </div>
        </div>
        <div class="default-step" id="step-1">
          <div id="niv-att" style="width: 100%" class="contain-input">
            <label class="label" for="naa">Nível de atividade física</label>
            <select id="naa" style="width: 100%" class="select">
              <option class="select" value="1.0">Não utilizar (1,0)</option>
              <option class="select" value="1.2">Sedentário (1,2)</option>
              <option class="select" value="1.375">Leve (1,375)</option>
              <option class="select" value="1.55">
                Moderado, treina (1,55)
              </option>
              <option class="select" value="1.725">Intenso (1,725)</option>
              <option class="select" value="1.9">Muito intenso (1,9)</option>
            </select>
          </div>
          <div id="contain-create-atts-s"></div>
          <button
            id="add-att-to-list"
            onclick="addNewAtt()"
            style="width: 100%; max-height: 40px; justify-content: center"
            class="button select"
          >
            Adicionar atividade
          </button>
        </div>
        <div class="default-step" id="step-2">
          <h4 style="width: 100%; margin-bottom: -10px">
            Refeição livre programada
          </h4>
          <div class="contain-input">
            <label class="label" for="kcal_e">Kcal Estimada</label>
            <input type="number" id="kcal_e" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="n_meel">Nº Refeições</label>
            <input type="number" id="n_meel" class="input" />
          </div>
          <div class="contain-input">
            <label class="label" for="kcal_d">Kcal / Dia (-)</label>
            <input
              disabled="true"
              contenteditable="false"
              type="number"
              id="kcal_d"
              class="input"
            />
          </div>
          <div style="width: 100%" class="contain-input">
            <label class="label" for="defihip"
              >Diferencial Energético (Déficit ou Superávit)*</label
            >
            <input
              style="width: calc(100% - 7px)"
              type="number"
              id="defihip"
              class="input"
            />
          </div>

          <div class="contain-input">
            <p id="offerTotal"></p>
          </div>
        </div>
        <div class="default-step" id="step-3">
          <div style="width: calc(50% - 10px)" class="contain-input">
            <label class="label" for="protein_g">Proteínas (g/kg)</label>
            <input
              style="width: 97%"
              type="number"
              id="protein_g"
              class="input"
            />
          </div>
          <div style="width: calc(50% - 10px)" class="contain-input">
            <label class="label" for="fat_g">Gorduras (g/kg)</label>
            <input style="width: 97%" type="number" id="fat_g" class="input" />
          </div>

          <table>
            <tr>
              <th>Nutriente</th>
              <th>g/kg</th>
              <th>g (total)</th>
              <th>Percentual</th>
            </tr>
            <tr>
              <td>Proteínas</td>
              <td id="g_protein"></td>
              <td id="total_g_protein"></td>
              <td id="prcent_protein"></td>
            </tr>
            <tr>
              <td>Gorduras</td>
              <td id="g_fat"></td>
              <td id="total_g_fat"></td>
              <td id="prcent_fat"></td>
            </tr>
            <tr>
              <td>Carboidratos</td>
              <td id="g_carb"></td>
              <td id="total_g_carb"></td>
              <td id="porcent_carb"></td>
            </tr>
          </table>
        </div>
      </div>

      <div id="row-buttons">
        <button onclick="backStep()" class="button">Back</button>
        <button onclick="nextStep()" class="button">Next</button>
      </div>
    </div>
  </body>
</html>
